<!DOCTYPE html>
<html lang="<%= req.session.UserAP.locale %>">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="robots" content="noindex">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Admin</title>
    <!-- Vite client  -->
    <% if(viteDev) { %>
        <script type="module" src="/@vite/client"></script>
    <% } %>
    <!-- Main CSS -->
    <!--    <link rel="stylesheet" href="<%- config.routePrefix %>/assets/style/style.min.css"/>-->
    <!--    &lt;!&ndash; Main Script &ndash;&gt;-->
    <!--        <script src="<%- config.routePrefix %>/assets/js/script.min.js"></script>-->
    <!--    <script src="<%- config.routePrefix %>/assets/js/ace/ace.js"></script>-->
    <!--    <script src="<%- config.routePrefix %>/assets/js/jsoneditor/jsoneditor.min.js"></script>-->
    <!--    <script src="<%- config.routePrefix %>/assets/js/vue-installStepper.js"></script>-->
    <!--    <script src="<%- config.routePrefix %>/assets/js/mediamanager.js" defer></script>-->
    <!--    <script src="<%- config.routePrefix %>/assets/js/ckeditor5/ck5.js"></script>-->
    <% if (req.session.UserAP.locale !== 'en') { %>
        <script src="<%- config.routePrefix %>/assets/js/ckeditor5/translations/<%= req.session.UserAP.locale %>.js"></script>
    <% } %>
    <!--    <link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/44.2.0/ckeditor5.css" />-->

    <script>
        window.jsonEditor = {}
        window.apTables = {};
        window.routePrefix = '<%- config.routePrefix %>'

        // Create a new FontFace object
        const font = new FontFace('Material Icons Outlined', 'url(<%- viteRender('node_modules/material-icons/iconfont/material-icons-outlined.woff2') %>)', {
            style: 'normal',
            weight: '400',
            display: 'block'
        });

        // Load the font
        font.load().then((loadedFont) => {
            // Add the font to the document
            document.fonts.add(loadedFont);
        }).catch((error) => {
            console.error('Error loading font:', error);
        });

    </script>
    <link rel="stylesheet" href="<%- viteRender('src/assets/styles/style.css') %>">
    <script type="module" src="<%- viteRender('src/assets/js/main.js') %>"></script>
</head>

<body>
    <div class="wrapper h-full md:flex md:flex-col">
        <header class="bg-gray-800 dark:bg-neutral-900 h-[50px] md:h-[40px] md:fixed md:w-full md:z-[1001]">
            <div class="flex items-center h-full pl-5 justify-between">
                <div class="flex-none flex items-center">
                    <a href="<%- config.routePrefix %>" class="flex items-center gap-2">
                        <span class="material-icons-outlined logo">rocket_launch</span>
                        <span class="text-fa_fa font-bold text-ls sm:hidden"><%= menuHelper.getBrandTitle() %></span>
                    </a>
                    <div class="group burger w-8 h-5 relative ml-9 cursor-pointer hidden md:block">
                        <div class="absolute w-full h-0.5 rounded bg-white transition group-[.burger--active]:rotate-45 group-[.burger--active]:top-2.5"></div>
                        <div class="absolute w-full h-0.5 rounded bg-white top-1/2 translate-y-[-50%] group-[.burger--active]:hidden"></div>
                        <div class="absolute w-full h-0.5 rounded bg-white transition bottom-0 group-[.burger--active]:rotate-[-45deg] group-[.burger--active]:top-2.5"></div>
                    </div>
                </div>
                <div class="flex gap-3 items-center justify-end pr-16 md:pr-5">
                    <div id="web3-widget"></div>
                    <% if (req.session.UserAP) { %>
                        <% if (req.session.adminPretender && req.session.adminPretender.id) { %>
                            <span class="material-icons-outlined">masks</span>
                        <% } %>
                        <a href="#" class="md:hidden relative top-[3px] hover:opacity-[0.6]">
                            <span class="text-fa_fa font-bold"><%= req.session.UserAP.fullName %></span>
                            <span class="material-icons-outlined text-[24px] text-white">person_outline</span>
                        </a>
                        <a href="<%- config.routePrefix %>/logout"
                           class="flex justify-center items-center hover:underline hover:opacity-[0.6] hover:text-blue-800">
                            <span class="material-icons-outlined text-[24px] text-white">exit_to_app</span>
                        </a>
                    <% } %>
                    <span class="dark-mode inline-flex justify-center items-center w-6 h-6 text-fa_fa hover:text-blue-400 cursor-pointer transition-colors ml-2">
                        <svg
                                viewBox="0 0 24 24" width="24" height="24" class="inline-block"><path
                                    fill="currentColor"
                                    d="M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13 2,10.54 2,7.5A5.5,5.5 0 0,1 7.5,2M19.07,3.5L20.5,4.93L4.93,20.5L3.5,19.07L19.07,3.5M12.89,5.93L11.41,5L9.97,6L10.39,4.3L9,3.24L10.75,3.12L11.33,1.47L12,3.1L13.73,3.13L12.38,4.26L12.89,5.93M9.59,9.54L8.43,8.81L7.31,9.59L7.65,8.27L6.56,7.44L7.92,7.35L8.37,6.06L8.88,7.33L10.24,7.36L9.19,8.23L9.59,9.54M19,13.5A5.5,5.5 0 0,1 13.5,19C12.28,19 11.15,18.6 10.24,17.93L17.93,10.24C18.6,11.15 19,12.28 19,13.5M14.6,20.08L17.37,18.93L17.13,22.28L14.6,20.08M18.93,17.38L20.08,14.61L22.28,17.15L18.93,17.38M20.08,12.42L18.94,9.64L22.28,9.88L20.08,12.42M9.63,18.93L12.4,20.08L9.87,22.27L9.63,18.93Z"></path>
                        </svg>
                    </span>
                </div>
            </div>
        </header>
